#Lumber Liquidators
server {
  server_name ll.vfitrack.net;
  root /home/ubuntu/chainio/ll/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/ll/public/error;
  }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://ll.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}
#Rhee Bros
server {
  server_name rhee.vfitrack.net;
  root /home/ubuntu/chainio/rhee/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/rhee/public/error;
  }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://rhee.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}

#J Crew
server {
  server_name jcrew.vfitrack.net;
  root /home/ubuntu/chainio/jcrew/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/jcrew/public/error;
  }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://jcrew.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}

#Ann Inc
server {
  server_name ann.vfitrack.net;
  root /home/ubuntu/chainio/ann/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/ann/public/error;
  }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://ann.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}

#Warnaco
server {
  server_name warnaco.vfitrack.net;
  root /home/ubuntu/chainio/warnaco/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/warnaco/public/error;
  }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://warnaco.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}
#Pepsi
server {
  server_name pepsi.vfitrack.net;
  root /home/ubuntu/chainio/pepsi/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/pepsi/public/error;
  }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://pepsi.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}
#Under Armour
server {
  server_name underarmour.vfitrack.net;
  root /home/ubuntu/chainio/underarmour/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/underarmour/public/error;
  }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://underarmour.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}
#Genesco
server {
  server_name genesco.vfitrack.net;
  root /home/ubuntu/chainio/genesco/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/genesco/public/error;
  }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://genesco.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}
#DAS for Vandegrift
server {
  server_name das.vfitrack.net;
  root /home/ubuntu/chainio/dasvfitracknet/public;
  passenger_enabled on;
  passenger_min_instances 2;

  error_page 413 /error/413.html;
  location = /413.html {
    root /home/ubuntu/chainio/dasvfitracknet/public/error;
  }

  if ($http_x_forwarded_proto = "http") {
  	rewrite ^ https://das.vfitrack.net$request_uri?;
  }  

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}
#Polo Instance
server {
	server_name polo.vfitrack.net polo.chain.io;
	root /home/ubuntu/chainio/polo/public;
	passenger_enabled on;
  passenger_min_instances 2;

    error_page 413 /error/413.html;
    location = /413.html {  
      root /home/ubuntu/chainio/polo/public/error;
    }

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://polo.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}

#Polo Test Instance
server {
  server_name polotest.vfitrack.net polotest.chain.io;
  root /home/ubuntu/chainio/polotest/public;
  passenger_enabled on;

    error_page 413 /error/413.html;
    location = /413.html {  
      root /home/ubuntu/chainio/polotest/public/error;
    }

  if ($http_x_forwarded_proto = "http") {
    rewrite ^ https://polotest.vfitrack.net$request_uri?;
  }

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}

#Demo Instance
server {
  server_name bdemo.chain.io bdemo.vfitrack.net;
	root /home/ubuntu/chainio/bdemo/public;
	passenger_enabled on;

	error_page 413 /error/413.html;
	location = /413.html {  
		root /home/ubuntu/chainio/bdemo/public/error;
	}

	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://bdemo.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}

#Vandegrift Tracker Instance
server {
	listen 80 default;
	#server_name www.vfitrack.net www.vficanada.net;
	root /home/ubuntu/chainio/wwwvfitracknet/public;
	passenger_enabled on;
  passenger_min_instances 2;

    error_page 413 /error/413.html;
    location = /413.html {  
      root /home/ubuntu/chainio/wwwvfitracknet/public/error;
    }
	if ($http_x_forwarded_proto = "http") {
		rewrite ^ https://www.vfitrack.net$request_uri?;
	}

  location ^~ /assets/ {
    add_header Expires "Thu, 31 Dec 2037 23:55:55 GMT";
    add_header Cache-Control "public, max-age=315360000";
    gzip_static on; # to serve pre-gzipped version
  }
}

