!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n(2),n(4),n(5),n(6),e.exports=n(7)},function(e,t,n){(function(e){e.ChainNavPanel={write:function(e,t,i,a){var r,s,o,c,l,u;if(s=function(){return $(document).on("keyup",function(e){if(!$(e.target).is(":input"))switch(e.keyCode){case 191:return $(".search-query:visible:first").focus();case 77:return $('[data-toggle="offcanvas"]:first').click(),$("#sidebar:visible .list-group-item:first").focus();case 78:return $('[data-toggle="notification-center"]:first').click();case 27:return $("#notification-center:visible")&&$("#notification-center").modal("hide"),$(".sidebar-offcanvas").removeClass("active")}})},c=function(){return $('[data-toggle="offcanvas"]').click(function(){return $(".sidebar-offcanvas").toggleClass("active")})},u=function(e){var t;return $("#sidebar-loading").remove(),t=ChainNavPanel.MenuBuilder().createMenuObject(e),ChainNavPanel.MenuWriter().writeMenu($("#sidebar"),t)},o=function(){return $("#set-homepage-btn").click(function(e){return $.post("/users/set_homepage",{homepage:$(location).attr("href")})}),$("#nav-set-homepage").click(function(e){return e.preventDefault(),$("#homepage-modal").modal("show")})},l=function(){var e;return e=function(e){return function(){return alert("Your ticket number is "+e+".")}},$("#submit-support-request-btn").click(function(t){var n,i,a,r;if(n=$(t.target),a=$("#request-alert"),r=$("#request-prompt"),""!==(i=$("#support-request-body").val()))return n.attr("disabled",!0),r.css("display","none"),a.css("display","inline"),$.ajax({type:"POST",url:"/api/v1/support_requests",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({support_request:{body:i}}),success:function(t){var i,r;return a.css("display","none"),n.attr("disabled",!1),$("#support-request-modal").modal("hide"),r=t.support_request_response.ticket_number,i=e(r),window.setTimeout(i,0)}});r.css("display","inline")}),$("#nav-support").click(function(e){return e.preventDefault(),$("#support-request-modal").modal("show")})},r=function(e){return e($("#notification-center-wrapper"))},$(t).after(e||n(3)),$(t).remove(),s(),i.then(function(e){return u(e)}),c(),o(),l(),a)return r(a)}}}).call(t,n(0))},function(e,t){e.exports='<div id=chain-nav-panel> <form class="form-inline form visible-xs" role=search action=/quick_search method=GET id=mini-qs> <div class=container-fluid id=mini-qs-container> <div class=row> <div class=col-xs-11> <input type=text class="search-query form-control" placeholder="Quick Search" data-toggle=tooltip title="press / to jump here" name=v /> </div> <div class=col-xs-1> <a href=# onclick=\'return $("#mini-qs").submit(),!1\'> <i class="fa fa-search"></i> </a> </div> </div> </div> </form> <div class=navbar role=navigation id=topnav> <ul class="nav navbar-nav navbar-left pull-left" style=margin-left:3px> <li> <button id=btn-left-toggle class=navbar-toggle data-toggle=offcanvas title="shortcut key: m"> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> </li> </ul> <ul class="nav navbar-nav navbar-right pull-right" style=margin-right:3px> <li id=notification-center-wrapper> </li> </ul> <form class="navbar-form hidden-xs" role=search action=/quick_search method=GET id=quicksearch> <div class=form-group> <input type=text class="search-query form-control" placeholder="enter search term" data-toggle=tooltip title="shortcut key: /" name=v id=quick_search_input /> &nbsp; <a href=# onclick=\'return $("#quicksearch").submit(),!1\'> <i class="fa fa-search"></i> </a> </div> </form> </div> <div class="sidebar-offcanvas panel-group" id=sidebar> <a href=/ title=Home class=list-group-item>Home</a> <div id=sidebar-loading> Please wait while your personalized menu is generated. </div> </div> </div> <div class="modal fade" id=homepage-modal> <div class=modal-dialog> <div class=modal-content> <div class=modal-header><h4 class=modal-title>Set Homepage To Current Page</h4></div> <div class=modal-body> <p>Click "OK" to make this page the first one you see when you log in to VFI Track.</p> <p>You may also access your homepage at any time by clicking the Home link on the navigation bar.</p> </div> <div class=modal-footer> <button type=button class="btn btn-default" data-dismiss=modal>Cancel</button> <button type=button class="btn btn-primary" data-dismiss=modal id=set-homepage-btn>OK</button> </div> </div> </div> </div> <div class="modal fade" id=support-request-modal> <div class=modal-dialog> <div class=modal-content> <div class=modal-header><h4 class=modal-title>Request Support</h4></div> <div class="modal-body row"> <div class=col-xs-12> <p>Send A Message:</p> <textarea class=form-control id=support-request-body autofocus=true rows=4></textarea> <br> <div class="alert alert-info col-xs-12" id=request-alert style=display:none> Your request is being submitted. </div> <div class="alert alert-danger col-xs-12" id=request-prompt style=display:none> You must enter a message first. </div> </div> </div> <div class=modal-footer> <button type=button class="btn btn-default" data-dismiss=modal>Cancel</button> <button type=button class="btn btn-primary" id=submit-support-request-btn>OK</button> </div> </div> </div> </div> <div class="modal fade" id=notification-center> <div class="modal-dialog modal-max-width"> <div class=modal-content> <div class="modal-header text-center"> <button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button> <div class=btn-group> <button type=button class="btn btn-default" notification-center-toggle-target=messages>Messages</button> <button type=button class="btn btn-default" notification-center-toggle-target=manuals>Manuals</button> </div> </div> <div class=modal-body id=notification-center-body> <div notification-center-pane=messages content-url=/messages></div> <div notification-center-pane=manuals content-url=/user_manuals/for_referer></div> </div> </div> </div> </div> '},function(e,t,n){(function(e){e.ChainNavPanel.MenuBuilder=function(){var e,t,n,i,a,r,s,o,c,l,u,d,f,v,m,p,h;return p=function(e,t,n,i,a){if(e)return t.push(m(n,i,a))},m=function(e,t,n){return{label:t,url:n,id:"nav-"+e}},h=function(e,t,n,i){if(i&&i.length>0)return e.push({id:t,label:n,items:i})},r=function(e,t){var n;return n=[],p(t.permissions.view_orders,n,"order-search","Search","/orders?force_search=true"),p(t.permissions.edit_orders,n,"order-new","New","/orders/new"),p(t.permissions.view_vendor_portal,n,"vendor-portal","Vendor Portal","/vendor_portal"),h(e,"nav-cat-order","Order",n)},s=function(e,t){var n;return n=[],p(t.permissions.view_products,n,"product-search","Search","/products?force_search=true"),p(t.permissions.edit_products,n,"product-new","New","/products/new"),p(t.permissions.view_official_tariffs,n,"official-tariff-search","Search Tariffs","/official_tariffs?force_search=true"),p(t.permissions.view_official_tariffs,n,"official-tariff-browse","Browse Tariffs","/hts"),h(e,"nav-cat-product","Product",n)},c=function(e,t){var n;return n=[],p(t.permissions.view_shipments,n,"shipment-search","Search","/shipments?force_search=true"),p(t.permissions.edit_shipments,n,"shipment-new","New","/shipments/new"),h(e,"nav-cat-shipment","Shipment",n)},o=function(e,t){var n;return n=[],p(t.permissions.view_security_filings,n,"isf-search","Search","/security_filings?force_search=true"),h(e,"nav-cat-isf","Security Filing",n)},n=function(e,t){var n;return n=[],p(t.permissions.view_entries,n,"entry-sum-ca","Insights - CA","/entries/activity_summary/ca"),p(t.permissions.view_entries,n,"entry-sum-ca","Insights - US","/entries/activity_summary/us"),p(t.permissions.view_entries,n,"entry-search","Search","/entries?force_search=true"),p(t.permissions.view_entries,n,"entry-snapshot","Snapshot","/entries/bi"),h(e,"nav-cat-entry","Entry",n)},e=function(e,t){var n;return n=[],p(t.permissions.view_broker_invoices,n,"brok-inv-search","Search","/broker_invoices?force_search=true"),p(t.permissions.view_summary_statements,n,"brok-inv-stmnt-search","Summary Statements","/summary_statements"),p(t.permissions.edit_summary_statements,n,"brok-inv-stmnt-new","New Statement","/summary_statements/new"),h(e,"nav-cat-brok-inv","Broker Invoice",n)},l=function(e,t){var n;return n=[],p(t.permissions.view_statements,n,"daily-statement-search","Daily Statements","/daily_statements?force_search=true"),p(t.permissions.view_statements,n,"monthly-statment-search","Monthly Statements","/monthly_statements?force_search=true"),h(e,"nav-cat-customs-statements","Statements",n)},v=function(e,t){var n;return n=[],p(t.permissions.view_vfi_invoices,n,"vfi-inv-search","Search","/vfi_invoices?force_search=true"),h(e,"nav-cat-vfi-inv","VFI Invoice",n)},t=function(e,t){var n;return n=[],p(t.permissions.view_drawback,n,"drawback-search","Search","/drawback_claims?force_search=true"),p(t.permissions.edit_drawback,n,"drawback-new","New","/drawback_claims/new"),p(t.permissions.upload_drawback,n,"drawback-upload","Upload","/drawback_upload_files"),h(e,"nav-cat-drawback","Drawback",n)},u=function(e,t){var n;return n=[],p(t.permissions.view_survey_responses,n,"survey-edit","View","/survey_responses"),p(t.permissions.view_surveys,n,"survey-view","Edit","/surveys"),h(e,"nav-cat-survey","Survey",n)},i=function(e,t){var n;return n=[],p(t.permissions.view_commercial_invoices,n,"invoice-search","Search","/invoices?force_search=true"),h(e,"nav-cat-invoices","Customer Invoice",n)},f=function(e,t){var n;return n=[],p(t.permissions.view_vendors,n,"vendor-view","Search","/vendors?force_search=true"),p(t.permissions.view_products&&t.permissions.view_vendors,n,"prod-ven-assignment-view","Vendor/Product Search","/product_vendor_assignments?force_search=true"),p(t.permissions.create_vendors,n,"vendor-new","New","/vendors/new"),h(e,"nav-cat-vendor","Vendor",n)},d=function(e,t){var n;return n=[],p(t.permissions.view_trade_lanes,n,"trade-lane-view","View","/trade_lanes"),p(t.permissions.edit_trade_lanes,n,"trade-lane-new","New","/trade_lanes#/new"),h(e,"nav-cat-trade-lane","Trade Lane",n)},a=function(e,t){var n;return(n=[]).push(m("account","Account","/me")),n.push(m("custom-features","Custom Features","/custom_features")),n.push(m("dashboard","Dashboard","/dashboard_widgets")),n.push(m("reports","Reports","/report_results")),n.push(m("support","Support","#")),n.push(m("tools","Tools","/tools")),n.push(m("uploads","Uploads","/imported_files")),n.push(m("set-homepage","Set Homepage","#")),n.push(m("log-out","Log Out","/logout")),e.push({id:"nav-cat-more",label:"more...",items:n})},{createMenuObject:function(m){var p;return s(p=[],m),r(p,m),c(p,m),o(p,m),n(p,m),e(p,m),l(p,m),v(p,m),t(p,m),u(p,m),i(p,m),f(p,m),d(p,m),a(p),{categories:p}}}}}).call(t,n(0))},function(e,t,n){(function(e){e.ChainNavPanel.MenuWriter=function(){return{writeMenu:function(e,t){var n,i,a,r,s,o,c,l,u,d;for(i="",a=0,o=(u=t.categories).length;a<o;a++){for(l="#"+(n=u[a]).id,i=(i+="<div class='panel'>")+"<div class='panel-heading'><h3 class='panel-title' data-toggle='collapse' data-target='"+l+"'><a href='javascript:void(0)'>"+n.label+"</a></h3></div><div class='panel-collapse collapse' id='"+n.id+"'><div class='list-group'>",s=0,c=(d=n.items).length;s<c;s++)i=i+"<a href='"+(r=d[s]).url+"' class='list-group-item' id='"+r.id+"'>"+r.label+"</a>";i+="</div></div></div>"}return e.append(i)}}}}).call(t,n(0))},function(e,t,n){(function(e){e.ChainNotificationCenter={getMessageCount:function(e){return $.getJSON(e,function(e){return e>0?$(".message_envelope").each(function(){return $(this).html(""+e).addClass("messages")}):$(".message_envelope").each(function(){return $(this).html("").removeClass("messages")})})},initialize:function(e,t){return this.url="/messages/message_count?user_id="+e,$(document).ready((n=this,function(){if(n.initNotificationCenter(),n.getMessageCount(n.url),t>0)return n.startPolling(t)}));var n},initNotificationCenter:function(){return document.addEventListener("visibilitychange",function(){if("visible"===document.visibilityState)return ChainNotificationCenter.getMessageCount(ChainNotificationCenter.pollingUrl())}),$('[data-toggle="notification-center"]').click(function(){return ChainNotificationCenter.toggleNotificationCenter()}),$("[notification-center-toggle-target]").on("click",function(){return ChainNotificationCenter.showNotificationCenterPane($(this).attr("notification-center-toggle-target"))}),$("#notification-center").on("click",".delete-message-btn",function(e){var t;if(t=$(this).attr("message-id"),e.preventDefault(),window.confirm("Are you sure you want to delete this message?"))return $.ajax({url:"/messages/"+t,type:"post",data:{_method:"delete"},success:function(){return $("#message-panel-"+t).fadeOut()}})}),$("#notification-center").on("click",".show-time-btn",function(e){var t;return(t=$(this)).html()===t.attr("title")?t.html("<span class='glyphicon glyphicon-time'></span>"):t.html(t.attr("title"))}),$("#notification-center").click(function(e){if(e.target===this)return ChainNotificationCenter.hideNotificationCenter()}),$("#notification-center").on("show.bs.collapse",".panel-collapse",function(e){var t,n,i;if(i=e.target,t=$(i).attr("message-id"),(n=$("#message-panel-"+t)).find(".message-read-icon").removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-down"),n.hasClass("unread"))return n.addClass("read").removeClass("unread"),$.get("/messages/"+t+"/read",function(){return ChainNotificationCenter.getMessageCount(ChainNotificationCenter.pollingUrl())})}),$("#notification-center").on("hide.bs.collapse",".panel-collapse",function(e){var t,n;return n=e.target,t=$(n).attr("message-id"),$("#message-panel-"+t+" .message-read-icon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-right")}),$("#notification-center").on("click",".notification-mark-all-read",function(e){return $.ajax({url:"/messages/read_all",success:function(){return $("#notification-center").find(".unread").each(function(){return $(this).removeClass("unread").addClass("read")}),ChainNotificationCenter.getMessageCount(ChainNotificationCenter.pollingUrl())}})}),$("#notification-center").on("chain:notification-load",'[notification-center-pane="messages"]',function(){return $('[notification-center-pane="messages"] .message-body a').addClass("btn").addClass("btn-xs").addClass("btn-primary")})},pollingUrl:function(){return this.url},startPolling:function(e){if(!(null!=this.intervalRegistration||e<=0))return this.intervalRegistration=setInterval((t=this,function(){if(!(document.hidden||document.msHidden||document.webkitHidden))return t.getMessageCount(t.url)}),1e3*e);var t},stopPolling:function(){var e;if(null!=this.intervalRegistration)return e=this.intervalRegistration,this.intervalRegistration=null,clearInterval(e)},toggleNotificationCenter:function(){return $("#notification-center").is(":visible")?ChainNotificationCenter.hideNotificationCenter():ChainNotificationCenter.showNotificationCenter()},showNotificationCenter:function(){return $("#notification-center").modal("show"),ChainNotificationCenter.showNotificationCenterPane("messages")},showNotificationCenterPane:function(e){var t;return $("[notification-center-pane]").hide(),$("[notification-center-toggle-target]").removeClass("btn-primary").addClass("btn-default"),$("[notification-center-toggle-target='"+e+"']").removeClass("btn-default").addClass("btn-primary"),(t=$("[notification-center-pane='"+e+"']")).html('<div class="loader"></div>'),t.show(),$.ajax({url:t.attr("content-url"),data:{nolayout:"true"},success:function(e){var n;if(n=t.attr("data-load-trigger"),t.html(e),t.trigger("chain:notification-load"),n)return t.trigger(n)},error:function(){return t.html("<div class='alert alert-danger'>We're sorry, an error occurred while trying to load this information.</div>")}})},hideNotificationCenter:function(){return $("#notification-center").modal("hide")}}}).call(t,n(0))},function(e,t){}]);