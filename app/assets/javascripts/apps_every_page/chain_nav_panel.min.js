!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n(2),n(4),n(5),n(6),e.exports=n(7)},function(e,t,n){(function(e){e.ChainNavPanel={write:function(e,t,i,a){var r,s,o,c,l,u;if(s=function(){return $(document).on("keyup",function(e){if(!$(e.target).is(":input"))switch(e.keyCode){case 191:return $(".search-query:visible:first").focus();case 77:return $('[data-toggle="offcanvas"]:first').click(),$("#sidebar:visible .list-group-item:first").focus();case 78:return $('[data-toggle="notification-center"]:first').click();case 27:return $("#notification-center:visible")&&$("#notification-center").modal("hide"),$(".sidebar-offcanvas").removeClass("active")}})},c=function(){return $('[data-toggle="offcanvas"]').click(function(){return $(".sidebar-offcanvas").toggleClass("active")})},u=function(e){var t;return $("#sidebar-loading").remove(),t=ChainNavPanel.MenuBuilder().createMenuObject(e),ChainNavPanel.MenuWriter().writeMenu($("#sidebar"),t)},o=function(){return $("#set-homepage-btn").click(function(e){return $.post("/users/set_homepage",{homepage:$(location).attr("href")})}),$("#nav-set-homepage").click(function(e){return e.preventDefault(),$("#homepage-modal").modal("show")})},l=function(){var e;return e=function(e){return function(){return alert("Your ticket number is "+e+".")}},$("#submit-support-request-btn").click(function(t){var n,i,a,r;if(n=$(t.target),a=$("#request-alert"),r=$("#request-prompt"),""!==(i=$("#support-request-body").val()))return n.attr("disabled",!0),r.css("display","none"),a.css("display","inline"),$.ajax({type:"POST",url:"/api/v1/support_requests",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({support_request:{body:i}}),success:function(t){var i,r;return a.css("display","none"),n.attr("disabled",!1),$("#support-request-modal").modal("hide"),r=t.support_request_response.ticket_number,i=e(r),window.setTimeout(i,0)}});r.css("display","inline")}),$("#nav-support").click(function(e){return e.preventDefault(),$("#support-request-modal").modal("show")})},r=function(e){return e($("#notification-center-wrapper"))},$(t).after(e||n(3)),$(t).remove(),s(),i.then(function(e){return u(e)}),c(),o(),l(),a)return r(a)}}}).call(t,n(0))},function(e,t){e.exports='<div id=\'chain-nav-panel\'>\n  <form class=\'form-inline form visible-xs\' role=\'search\' action=\'/quick_search\' method=\'GET\' id=\'mini-qs\'>\n    <div class="container-fluid" id=\'mini-qs-container\'>\n      <div class="row">\n        <div class="col-xs-11">\n          <input type=\'text\' class=\'search-query form-control\' placeholder=\'Quick Search\' data-toggle=\'tooltip\' title=\'press / to jump here\' name=\'v\' />\n        </div>\n        <div class=\'col-xs-1\'>\n          <a href=\'#\' onclick="$(\'#mini-qs\').submit(); return false;">\n            <i class=\'fa fa-search\'></i>\n          </a>\n        </div>\n      </div>\n    </div>\n  </form>\n  <div class=\'navbar\' role=\'navigation\' id=\'topnav\'>\n    <ul class="nav navbar-nav navbar-left pull-left" style=\'margin-left:3px;\'>\n      <li>\n        <button id=\'btn-left-toggle\' class=\'navbar-toggle\' data-toggle="offcanvas" title="shortcut key: m">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n      </li>\n    </ul>\n    <ul class="nav navbar-nav navbar-right pull-right"  style=\'margin-right:3px;\'>\n      <li id=\'notification-center-wrapper\'>\n      </li>\n    </ul>\n    <form class=\'navbar-form hidden-xs\' role=\'search\' action=\'/quick_search\' method=\'GET\' id=\'quicksearch\'>\n      <div class=\'form-group\'>\n        <input type=\'text\' class=\'search-query form-control\' placeholder=\'enter search term\' data-toggle=\'tooltip\' title=\'shortcut key: /\' name=\'v\' id=\'quick_search_input\' />\n        &nbsp;\n        <a href=\'#\' onclick="$(\'#quicksearch\').submit(); return false;">\n          <i class=\'fa fa-search\'></i>\n        </a>\n      </div>\n    </form>\n  </div>\n  <div class="sidebar-offcanvas panel-group" id="sidebar">\n    <a href=\'/\' title=\'Home\' class=\'list-group-item\'>Home</a>\n    <div id=\'sidebar-loading\'>\n      Please wait while your personalized menu is generated.\n    </div>\n  </div>\n</div>\n<div class="modal fade" id="homepage-modal">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header"><h4 class="modal-title">Set Homepage To Current Page</h4></div>\n      <div class="modal-body">\n        <p>Click "OK" to make this page the first one you see when you log in to VFI Track.</p>\n        <p>You may also access your homepage at any time by clicking the Home link on the navigation bar.</p>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-primary" data-dismiss="modal" id="set-homepage-btn">OK</button>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal fade" id="support-request-modal">\n  <div class="modal-dialog">  \n    <div class="modal-content">\n      <div class="modal-header"><h4 class="modal-title">Request Support</h4></div>\n      <div class="modal-body row">\n        <div class="col-xs-12"> \n          <p>Send A Message:</p>\n          <textarea class=\'form-control\' id="support-request-body" autofocus=true rows=4></textarea>\n          <br>\n          <div class="alert alert-info col-xs-12" id="request-alert" style="display:none;">\n            Your request is being submitted.\n          </div>\n          <div class="alert alert-danger col-xs-12" id="request-prompt" style="display:none;">\n            You must enter a message first.\n          </div>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-primary" id="submit-support-request-btn">OK</button>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal fade" id="notification-center">\n  <div class="modal-dialog modal-max-width">\n    <div class="modal-content">\n      <div class="modal-header text-center">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <div class="btn-group">\n          <button type="button" class="btn btn-default" notification-center-toggle-target=\'messages\'>Messages</button>\n          <button type="button" class="btn btn-default" notification-center-toggle-target=\'manuals\'>Manuals</button>\n        </div>\n      </div>\n      <div class="modal-body" id=\'notification-center-body\'>\n        <div notification-center-pane=\'messages\' content-url=\'/messages\'></div>\n        <div notification-center-pane=\'manuals\' content-url=\'/user_manuals/for_referer\'></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){(function(e){e.ChainNavPanel.MenuBuilder=function(){var e,t,n,i,a,r,s,o,c,l,u,d,f,v,p,m;return p=function(e,t,n,i,a){if(e)return t.push(v(n,i,a))},v=function(e,t,n){return{label:t,url:n,id:"nav-"+e}},m=function(e,t,n,i){if(i&&i.length>0)return e.push({id:t,label:n,items:i})},a=function(e,t){var n;return n=[],p(t.permissions.view_orders,n,"order-search","Search","/orders?force_search=true"),p(t.permissions.edit_orders,n,"order-new","New","/orders/new"),p(t.permissions.view_vendor_portal,n,"vendor-portal","Vendor Portal","/vendor_portal"),m(e,"nav-cat-order","Order",n)},r=function(e,t){var n;return n=[],p(t.permissions.view_products,n,"product-search","Search","/products?force_search=true"),p(t.permissions.edit_products,n,"product-new","New","/products/new"),p(t.permissions.view_official_tariffs,n,"official-tariff-search","Search Tariffs","/official_tariffs?force_search=true"),p(t.permissions.view_official_tariffs,n,"official-tariff-browse","Browse Tariffs","/hts"),m(e,"nav-cat-product","Product",n)},o=function(e,t){var n;return n=[],p(t.permissions.view_shipments,n,"shipment-search","Search","/shipments?force_search=true"),p(t.permissions.edit_shipments,n,"shipment-new","New","/shipments/new"),m(e,"nav-cat-shipment","Shipment",n)},s=function(e,t){var n;return n=[],p(t.permissions.view_security_filings,n,"isf-search","Search","/security_filings?force_search=true"),m(e,"nav-cat-isf","Security Filing",n)},n=function(e,t){var n;return n=[],p(t.permissions.view_entries,n,"entry-sum-ca","Browse - CA","/entries/activity_summary/ca"),p(t.permissions.view_entries,n,"entry-sum-ca","Browse - US","/entries/activity_summary/us"),p(t.permissions.view_entries,n,"entry-search","Search","/entries?force_search=true"),p(t.permissions.view_entries,n,"entry-snapshot","Snapshot","/entries/bi"),m(e,"nav-cat-entry","Entry",n)},e=function(e,t){var n;return n=[],p(t.permissions.view_broker_invoices,n,"brok-inv-search","Search","/broker_invoices?force_search=true"),p(t.permissions.view_summary_statements,n,"brok-inv-stmnt-search","Summary Statements","/summary_statements"),p(t.permissions.edit_summary_statements,n,"brok-inv-stmnt-new","New Statement","/summary_statements/new"),m(e,"nav-cat-brok-inv","Broker Invoice",n)},c=function(e,t){var n;return n=[],p(t.permissions.view_statements,n,"daily-statement-search","Daily Statements","/daily_statements?force_search=true"),p(t.permissions.view_statements,n,"monthly-statment-search","Monthly Statements","/monthly_statements?force_search=true"),m(e,"nav-cat-customs-statements","Statements",n)},f=function(e,t){var n;return n=[],p(t.permissions.view_vfi_invoices,n,"vfi-inv-search","Search","/vfi_invoices?force_search=true"),m(e,"nav-cat-vfi-inv","VFI Invoice",n)},t=function(e,t){var n;return n=[],p(t.permissions.view_drawback,n,"drawback-search","Search","/drawback_claims?force_search=true"),p(t.permissions.edit_drawback,n,"drawback-new","New","/drawback_claims/new"),p(t.permissions.upload_drawback,n,"drawback-upload","Upload","/drawback_upload_files"),m(e,"nav-cat-drawback","Drawback",n)},l=function(e,t){var n;return n=[],p(t.permissions.view_survey_responses,n,"survey-edit","View","/survey_responses"),p(t.permissions.view_surveys,n,"survey-view","Edit","/surveys"),m(e,"nav-cat-survey","Survey",n)},d=function(e,t){var n;return n=[],p(t.permissions.view_vendors,n,"vendor-view","Search","/vendors?force_search=true"),p(t.permissions.view_products&&t.permissions.view_vendors,n,"prod-ven-assignment-view","Vendor/Product Search","/product_vendor_assignments?force_search=true"),p(t.permissions.create_vendors,n,"vendor-new","New","/vendors/new"),m(e,"nav-cat-vendor","Vendor",n)},u=function(e,t){var n;return n=[],p(t.permissions.view_trade_lanes,n,"trade-lane-view","View","/trade_lanes"),p(t.permissions.edit_trade_lanes,n,"trade-lane-new","New","/trade_lanes#/new"),m(e,"nav-cat-trade-lane","Trade Lane",n)},i=function(e,t){var n;return(n=[]).push(v("account","Account","/me")),n.push(v("custom-features","Custom Features","/custom_features")),n.push(v("dashboard","Dashboard","/dashboard_widgets")),n.push(v("reports","Reports","/report_results")),n.push(v("support","Support","#")),n.push(v("tools","Tools","/tools")),n.push(v("uploads","Uploads","/imported_files")),n.push(v("set-homepage","Set Homepage","#")),n.push(v("log-out","Log Out","/logout")),e.push({id:"nav-cat-more",label:"more...",items:n})},{createMenuObject:function(v){var p;return r(p=[],v),a(p,v),o(p,v),s(p,v),n(p,v),e(p,v),c(p,v),f(p,v),t(p,v),l(p,v),d(p,v),u(p,v),i(p),{categories:p}}}}}).call(t,n(0))},function(e,t,n){(function(e){e.ChainNavPanel.MenuWriter=function(){return{writeMenu:function(e,t){var n,i,a,r,s,o,c,l,u,d;for(i="",a=0,o=(u=t.categories).length;a<o;a++){for(l="#"+(n=u[a]).id,i=(i+="<div class='panel'>")+"<div class='panel-heading'><h3 class='panel-title' data-toggle='collapse' data-target='"+l+"'><a href='javascript:void(0)'>"+n.label+"</a></h3></div><div class='panel-collapse collapse' id='"+n.id+"'><div class='list-group'>",s=0,c=(d=n.items).length;s<c;s++)i=i+"<a href='"+(r=d[s]).url+"' class='list-group-item' id='"+r.id+"'>"+r.label+"</a>";i+="</div></div></div>"}return e.append(i)}}}}).call(t,n(0))},function(e,t,n){(function(e){e.ChainNotificationCenter={getMessageCount:function(e){return $.getJSON(e,function(e){return e>0?$(".message_envelope").each(function(){return $(this).html(""+e).addClass("messages")}):$(".message_envelope").each(function(){return $(this).html("").removeClass("messages")})})},initialize:function(e,t){return this.url="/messages/message_count?user_id="+e,$(document).ready((n=this,function(){if(n.initNotificationCenter(),n.getMessageCount(n.url),t>0)return n.startPolling(t)}));var n},initNotificationCenter:function(){return document.addEventListener("visibilitychange",function(){if("visible"===document.visibilityState)return ChainNotificationCenter.getMessageCount(ChainNotificationCenter.pollingUrl())}),$('[data-toggle="notification-center"]').click(function(){return ChainNotificationCenter.toggleNotificationCenter()}),$("[notification-center-toggle-target]").on("click",function(){return ChainNotificationCenter.showNotificationCenterPane($(this).attr("notification-center-toggle-target"))}),$("#notification-center").on("click",".delete-message-btn",function(e){var t;if(t=$(this).attr("message-id"),e.preventDefault(),window.confirm("Are you sure you want to delete this message?"))return $.ajax({url:"/messages/"+t,type:"post",data:{_method:"delete"},success:function(){return $("#message-panel-"+t).fadeOut()}})}),$("#notification-center").on("click",".show-time-btn",function(e){var t;return(t=$(this)).html()===t.attr("title")?t.html("<span class='glyphicon glyphicon-time'></span>"):t.html(t.attr("title"))}),$("#notification-center").click(function(e){if(e.target===this)return ChainNotificationCenter.hideNotificationCenter()}),$("#notification-center").on("show.bs.collapse",".panel-collapse",function(e){var t,n,i;if(i=e.target,t=$(i).attr("message-id"),(n=$("#message-panel-"+t)).find(".message-read-icon").removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-down"),n.hasClass("unread"))return n.addClass("read").removeClass("unread"),$.get("/messages/"+t+"/read",function(){return ChainNotificationCenter.getMessageCount(ChainNotificationCenter.pollingUrl())})}),$("#notification-center").on("hide.bs.collapse",".panel-collapse",function(e){var t,n;return n=e.target,t=$(n).attr("message-id"),$("#message-panel-"+t+" .message-read-icon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-right")}),$("#notification-center").on("click",".notification-mark-all-read",function(e){return $.ajax({url:"/messages/read_all",success:function(){return $("#notification-center").find(".unread").each(function(){return $(this).removeClass("unread").addClass("read")}),ChainNotificationCenter.getMessageCount(ChainNotificationCenter.pollingUrl())}})}),$("#notification-center").on("chain:notification-load",'[notification-center-pane="messages"]',function(){return $('[notification-center-pane="messages"] .message-body a').addClass("btn").addClass("btn-xs").addClass("btn-primary")})},pollingUrl:function(){return this.url},startPolling:function(e){if(!(null!=this.intervalRegistration||e<=0))return this.intervalRegistration=setInterval((t=this,function(){if(!(document.hidden||document.msHidden||document.webkitHidden))return t.getMessageCount(t.url)}),1e3*e);var t},stopPolling:function(){var e;if(null!=this.intervalRegistration)return e=this.intervalRegistration,this.intervalRegistration=null,clearInterval(e)},toggleNotificationCenter:function(){return $("#notification-center").is(":visible")?ChainNotificationCenter.hideNotificationCenter():ChainNotificationCenter.showNotificationCenter()},showNotificationCenter:function(){return $("#notification-center").modal("show"),ChainNotificationCenter.showNotificationCenterPane("messages")},showNotificationCenterPane:function(e){var t;return $("[notification-center-pane]").hide(),$("[notification-center-toggle-target]").removeClass("btn-primary").addClass("btn-default"),$("[notification-center-toggle-target='"+e+"']").removeClass("btn-default").addClass("btn-primary"),(t=$("[notification-center-pane='"+e+"']")).html('<div class="loader"></div>'),t.show(),$.ajax({url:t.attr("content-url"),data:{nolayout:"true"},success:function(e){var n;if(n=t.attr("data-load-trigger"),t.html(e),t.trigger("chain:notification-load"),n)return t.trigger(n)},error:function(){return t.html("<div class='alert alert-danger'>We're sorry, an error occurred while trying to load this information.</div>")}})},hideNotificationCenter:function(){return $("#notification-center").modal("hide")}}}).call(t,n(0))},function(e,t){}]);