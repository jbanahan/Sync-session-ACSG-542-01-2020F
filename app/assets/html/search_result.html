<div class='search_result_wrapper'>
  <div ng-hide='searchResult.rows!=undefined || errors.length > 0' id='search_loading'>
    <div class='loader'>loading</div>
  </div>
  <div ng-show='searchResult.rows!=undefined' class='search_result'>
    <div class='container search-result-bulk-controls' ng-show='bulkSelected.length>0 || allSelected'>
      <div class='row text-center' ng-show='allSelected'>
        <div class='col-md-12'>
          <strong>All {{searchResult.total_objects}} selected</strong>
        </div>
      </div>
      <div class='row text-center' ng-hide='allSelected'>
        <div class='col-md-12'>
          <strong>{{bulkSelected.length}} selected</strong>
        </div>
      </div>
    </div>
    <div class='search_result_table_wrapper'>
      <table class='table table-striped table-bordered table-condensed table-hover search_result_table table-sm'>
        <thead>
          <tr>
            <th ng-show='searchResult.bulk_actions && !noChrome'>
              <input type='checkbox' ng-click='selectPage()' ng-model='selectPageCheck' data-toggle='tooltip' title='Select everything on this page' />
            </th>
            <th></th>
            <th ng-repeat='col in searchResult.columns track by $index'>
              {{col}}
            </th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat='row in searchResult.rows' ng-class='classesForRow($index)'>
            <td ng-show='searchResult.bulk_actions && !noChrome' class='min_width'>
              <input type='checkbox' ng-model='row.bulk_selected' ng-show='newObjectRow($index)' />
            </td>
            <td class='action_cell min_width'>
              <div class='btn-group' ng-show='newObjectRow($index)'>
                <span ng-repeat='l in row.links'>
                  <a class='btn btn-sm' href='{{l.url}}'>{{l.label}}</a>
                </span>
              </div>
            </td>
            <td ng-repeat='v in row.vals track by $index'>
              {{v}}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <nav id="action_bar" ng-show="!noChrome" class='navbar navbar-expand-sm navbar-light fixed-bottom'>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#advancedSearchAction" aria-controls="advancedSearchAction" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="advancedSearchAction">
        <ul class='navbar-nav'>
          <li class="nav-item py-1">
            <span ng-transclude></span>
            <span ng-repeat='b in searchResult.bulk_actions' ng-show='bulkSelected.length > 0'>
              <button class='btn navbar-btn' ng-click='executeBulkAction(b)' title='{{b.label}}'>
                <span ng-if='!b.font_icon'>{{b.label}}</span>
                <span ng-if='b.font_icon' class='{{b.font_icon}}'></span>
              </button>
            </span>
            <button ng-show="!allSelected" ng-click='selectAll()' class='btn navbar-btn' title='Select All'><i class='fa fa-check-square-o'></i> (<span ng-hide='searchResult.total_objects'><i class='fa fa-clock-o'></i></span>{{searchResult.total_objects}})</button>
            <span ng-show='bulkSelected.length>0 || allSelected'>
              <button ng-click='selectNone()' class='btn navbar-btn' title='Select None' id="search_clear"><i class='fa fa-square-o'></i></button>
            </span>
          </li>
        </ul>
      </div>
      <form class='navbar-form float-right btn-group' ng-hide='noChrome'>
        <button class='btn' ng-show='searchResult.page>1' ng-click='firstPage()'>&lt;&lt;</button>
        <button class='btn' ng-show='searchResult.page>1' ng-click='previousPage()'>&lt;</button>
        <select class='btn' ng-model='searchResult.page' ng-options='n for n in pageNumberArray()'>
        </select>
        <button class='btn' ng-show='searchResult.page<searchResult.total_pages' ng-click='nextPage()'>&gt;</button></li>
        <button class='btn' ng-show='searchResult.page<searchResult.total_pages' ng-click='lastPage()'>&gt;&gt;</button></li>
      </form>
    </nav>
  </div>
</div>
