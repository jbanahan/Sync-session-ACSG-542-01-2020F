<div class='container' ng-app='HtsApp' style='margin-top:20px;'>
  <div ng-controller='HtsCtrl'>
    <div class='row'>
      <div class='col-md-12 text-center'>
        <%=link_to image_tag('vandegrift.png', :alt_text=>'Company Logo', :width=>'450px'), '/'%>
        <h1>Vandegrift HTS Lookup</h1>
      </div>
    </div>
    <div class='row' ng-show="limitedMode==true">
      <div class='col-md-12 jumbotron'>
        <p>
          <strong>Welcome</strong>
        </p> 
        <p>
          Use this screen to browse the US and Canadian tariff listings.
        </p>
        <p>
          For more information on Vandegrift's full Global Classification system, email us at <a href='mailto:corpcomm@vandegriftinc.com'>corpcomm@vandegriftinc.com</a>.
        </p>
      </div>
    </div>
    <div class='row' style='margin-top:20px; margin-bottom:20px;'>
      <div class='col-md-12 text-center'>
        <select class='form-control input-lg' id='sel-country' ng-model='country' ng-options='c.name for c in countries'>
        </select>
      </div>
    </div> 
    <div ng-show="viewMode=='more-info'" class='row'>
      <div class='jumbotron'>
        <div>
          <h2>
            For more information on {{country.name}} or any other tariff, email us at <a href='mailto:corpcomm@vandegriftinc.com'>corpcomm@vandegriftinc.com</a>.
          </h2>
        </div>
      </div>
    </div>
    <div ng-show="viewMode=='base'">
      <div class='row' ng-show='chapters.length == 0'>
        <div class='col-12 text-center'>
          <div class='loader'>loading</div>
        </div>
      </div>
      <div ng-show='chapters.length > 0' class='row' style='font-weight:bold;'>
        <div class='col-md-1 offset-md-6 '>
          Unit of Measure
        </div>
        <div class='col-md-1 '>
          Common Rate
        </div>
        <div class='col-md-1 '>
          Special Rates
        </div>
        <div class='col-md-1 '>
          Col 2 Rate
        </div>
      </div>
      <div ng-repeat='ch in chapters'>
        <div class='row'>
          <div class='col-md-12'>
            <button class='btn btn-sm ' ng-hide='ch.headings.length>0' ng-click='loadChapter(country,ch)'>+</button>
            <button class='btn btn-sm ' ng-show='ch.headings.length>0' ng-click='ch.headings = []'>-</button>
            {{ch.num}}. {{ch.name}} 
          </div>
          <div class="col-md-12" ng-repeat='h in ch.headings'>
            <div class='row'>
              <div class='col-md-10 offset-md-1'>
                <button class='btn btn-sm ' ng-hide='h.sub_headings.length>0' ng-click='loadHeading(country,ch,h)'>+</button>
                <button class='btn btn-sm ' ng-show='h.sub_headings.length>0' ng-click='h.sub_headings = []'>-</button>
                {{h.num}}. {{h.name}}
              </div>
            </div>
            <div ng-repeat='s in h.sub_headings'>
              <div class='row'>
                <div class='col-md-10 offset-md-2'>
                  {{s.num}}. {{s.name}}
                </div>
              </div>
              <div ng-repeat='d in s.remaining_descriptions'>
                <div class='row'>
                  <div class='col-md-3 offset-md-3'>
                    {{d.num}}. {{d.name}}
                  </div>
                  <div class='col-md-1 '>
                    {{d.uom}}
                  </div>
                  <div class='col-md-1 '>
                    {{d.general}}
                  </div>
                  <div class='col-md-1 '>
                    {{d.special}}
                  </div>
                  <div class='col-md-1 '>
                    {{d.col2}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<footer class='footer'>
  <div id="action_bar" class='navbar fixed-bottom justify-content-end py-0 m-0'>
    <%= image_tag(master_setup.logo_image.blank? ? "vfi_track_logo.png" : master_setup.logo_image, :id=>'dash-logo', :alt=>'Company Logo', :style=>'max-height: 3.5em;')%>
  </div>
</footer>
