<% content_for :javascript do %>
$(function() {
  $("button").button();
	$("#btn_save").click(function() {$("#frm_c").submit();});
  $("#btn_save_and_new").click(function() {
    $("#hdn_and_new").val("Y");
    $("#frm_c").submit();
  });
	$("#btn_cancel").click(function() { window.location = '<%=@custom_definition.id.nil? ? custom_definitions_path : custom_definition_path(@custom_definition)%>';});
});
<% end %>
<% content_for :action_bar do %>
  <button id='btn_save'>Save</button>
  <button id='btn_save_and_new'>Save &amp; New</button>
	<button id='btn_cancel'>Cancel</button>
<% end %>
<%= form_for(@custom_definition, :html=>{:id=>'frm_c'}) do |f| %>
  <input type='hidden' name='and_new' id='hdn_and_new' value='' />
  <table>
    <%=field_row "Label", f.text_field(:label, :title=>"The name of the field.", :class=>"focus_first") %>
    <%=field_row "Module", f.select(:module_type, [["Order - Header","Order"],["Order - Line","OrderLine"],["Shipment - Header","Shipment"],["Shipment - Line","ShipmentLine"],["Sale","SalesOrder"],["Delivery","Delivery"],["Product - Header","Product"],["Product - Classification","Classification"]],{}, :title=>"The screen you want the field to be on.") %>
    <%=field_row "Data Type", f.select(:data_type, [[CustomDefinition::DATA_TYPE_LABELS[:date],"date"],[CustomDefinition::DATA_TYPE_LABELS[:decimal],"decimal"],[CustomDefinition::DATA_TYPE_LABELS[:integer],"integer"],[CustomDefinition::DATA_TYPE_LABELS[:string],"string"],[CustomDefinition::DATA_TYPE_LABELS[:text],"text"],[CustomDefinition::DATA_TYPE_LABELS[:boolean],"boolean"]], {},:title=>"The type of information you enter into the field.")%>
    <%=field_row "Tip", f.text_field(:tool_tip, :title=>"A note (like this) to help user's understand what to type into the field.") %>
    <%=field_row "Sort Rank", f.text_field(:rank, :title=>"An optional number to tell the system where to put the field on the screen.  Lower numbers appear first.") %>
  </table>
<% end %>
