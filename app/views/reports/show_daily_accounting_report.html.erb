<% content_for :javascript do -%>
$(function() {
  $("#frm_run").submit(function() {
    var r = true;
    if($("input[name='start_date']").val().length < 10) {
      r = false;
    }
    if($("input[name='end_date']").val().length < 10) {
      r = false;
    }

    if(!r) {
      window.alert("You must enter both dates.");
      return false;
    }
  });
});
<%end-%>
<% content_for :action_bar do %>
  <button class="form_to" form_id="frm_run">Run Report</button>
  <button class="btn_link" link_to="<%=request.referrer%>">Back</button>
<%end%>
<h2>Profit / Loss Report</h2>
<%=form_tag(reports_run_daily_accounting_report_path, {id: 'frm_run', class: "form-inline", role: "form", autocomplete: "off"}) do -%>
  <div class="form-group ml-2">
    <label for="start_date" class="control-label">Invoice Date on or after </label>
    <%=text_field_tag :start_date,"", class: 'form-control isdate ml-2'%>
  </div>
  <div class="form-group ml-2">
    <label for="end_date" class="control-label"> and on or before </label>
    <%=text_field_tag :end_date,"", class: 'form-control isdate ml-2'%>
  </div>
  <div class="inline-form-newline"></div>
  <div class="form-group ml-2 mt-2">
    <label for="line_of_business" class="control-label">Line of Business</label>
    <%= select_tag(:line_of_business, options_for_select(['All', 'Brokerage', 'Freight'].map {|m| [m, m]}, 'All'), class: "form-control ml-2") %>
  </div>
<%end%>