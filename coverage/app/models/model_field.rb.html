<html>
  <head>
    <title>app/models/model_field.rb</title>
    
    <link href="../../report.css?0.013898349927129239" media="screen" rel="stylesheet" type="text/css" />
    <script src='../../jquery.js?0.6669058708407077'></script>
    <script>
      $(function() {

        $('#toggle_test_file').click(function(e) {
          e.preventDefault();
          if ($('#main_file').hasClass('side_by_side')) {
            $('#main_file').removeClass('side_by_side');
          } else {
            $('#main_file').addClass('side_by_side');
          }
        
          $('#test_file').toggle();
        });

        $('#test_file').hide();
        
        function cleanString(str) {
          return $.trim(str.replace(/<[^(<|>)]+>/gi, ''));
        }
        
        $('.line_number').hover(function() {
          $(this).attr('title', 'Line: ' + cleanString($(this).html()));
        });
        
        $('.hit_number').hover(function() {
          $(this).attr('title', 'Execution Count: ' + cleanString($(this).html()));
        });
        
        $('.code_line').hover(function() {
          $(this).attr('title', cleanString($(this).html()));
        });
        
      });
    </script>
  </head>
  <body>
    <h1><a href="../../index.html">Coverage Report</a></h1>
    
    <table cellpadding='0' cellspacing='1'>
      <tr class='header'>
        <th>File</th>
        <th>Lines</th>
        <th>Lines Of Code</th>
        <th>Tested %</th>
      </tr>
      <tr valign='top'>
        <td>
          app/models/model_field.rb
          
        </td>
        <td>409</td>
        <td>201</td>
        <td>72.6%</td>
      </tr>
    </table>

    <div>&nbsp;</div>
    
    <table cellpadding='0' cellspacing='1'>
      <tr>
        <th>Legend</th>
      </tr>
      <tr>
        <td class='hit'>This line was executed.</td>
      </tr>
      <tr>
        <td class='miss'>This line was not executed!</td>
      </tr>
      <tr>
        <td class='never'>This line doesn't matter.</td>
      </tr>
    </table>
    
    <div>&nbsp;</div>

    <div id='content'>
      <div id='main_file'>
        <table id='main'>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>1</td>
              <td class='code_line'>
                <pre>class ModelField</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>2</td>
              <td class='code_line'>
                <pre>  attr_reader :model, :field_name, :label, :sort_rank, </pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>3</td>
              <td class='code_line'>
                <pre>              :import_lambda, :export_lambda, </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>4</td>
              <td class='code_line'>
                <pre>              :custom_id, :data_type, :core_module, </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>5</td>
              <td class='code_line'>
                <pre>              :join_statement, :join_alias, :uid</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>6</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>7</td>
              <td class='code_line'>
                <pre>  def initialize(rank,uid,core_module, field, label, options={})</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>8</td>
              <td class='code_line'>
                <pre>    o = {:import_lambda =>  lambda {|obj,data|</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>9</td>
              <td class='code_line'>
                <pre>           obj.send("#{@field_name}=".intern,data)</pre>
              </td>
              <td class='hit_number'>168</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>10</td>
              <td class='code_line'>
                <pre>           return "#{@label} set to #{data}"</pre>
              </td>
              <td class='hit_number'>168</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>11</td>
              <td class='code_line'>
                <pre>          },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>12</td>
              <td class='code_line'>
                <pre>          :export_lambda => lambda {|obj|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>13</td>
              <td class='code_line'>
                <pre>            if self.custom?</pre>
              </td>
              <td class='hit_number'>64</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>14</td>
              <td class='code_line'>
                <pre>            obj.get_custom_value(CustomDefinition.find(@custom_id)).value</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>15</td>
              <td class='code_line'>
                <pre>            else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>16</td>
              <td class='code_line'>
                <pre>              obj.send("#{@field_name}")</pre>
              </td>
              <td class='hit_number'>64</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>17</td>
              <td class='code_line'>
                <pre>            end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>18</td>
              <td class='code_line'>
                <pre>          },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>19</td>
              <td class='code_line'>
                <pre>        }.merge(options)</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>20</td>
              <td class='code_line'>
                <pre>    @uid = uid</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>21</td>
              <td class='code_line'>
                <pre>    @core_module = core_module</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>22</td>
              <td class='code_line'>
                <pre>    @sort_rank = rank</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>23</td>
              <td class='code_line'>
                <pre>    @model = core_module.class_name.intern unless core_module.nil?</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>24</td>
              <td class='code_line'>
                <pre>    @field_name = field</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>25</td>
              <td class='code_line'>
                <pre>    @label = label</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>26</td>
              <td class='code_line'>
                <pre>    @import_lambda = o[:import_lambda]</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>27</td>
              <td class='code_line'>
                <pre>    @export_lambda = o[:export_lambda]</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>28</td>
              <td class='code_line'>
                <pre>    @custom_id = o[:custom_id]</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>29</td>
              <td class='code_line'>
                <pre>    @join_statement = o[:join_statement]</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>30</td>
              <td class='code_line'>
                <pre>    @join_alias = o[:join_alias]</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>31</td>
              <td class='code_line'>
                <pre>    @data_type = o[:data_type].nil? ? determine_data_type : o[:data_type]</pre>
              </td>
              <td class='hit_number'>557</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>32</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>33</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>34</td>
              <td class='code_line'>
                <pre>  #table alias to use in where clause</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>35</td>
              <td class='code_line'>
                <pre>  def join_alias</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>36</td>
              <td class='code_line'>
                <pre>    if @join_alias.nil?</pre>
              </td>
              <td class='hit_number'>72</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>37</td>
              <td class='code_line'>
                <pre>      @core_module.table_name</pre>
              </td>
              <td class='hit_number'>40</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>38</td>
              <td class='code_line'>
                <pre>    else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>39</td>
              <td class='code_line'>
                <pre>      @join_alias</pre>
              </td>
              <td class='hit_number'>32</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>40</td>
              <td class='code_line'>
                <pre>    end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>41</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>42</td>
              <td class='code_line'>
                <pre>    #code to process when importing a field</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>43</td>
              <td class='code_line'>
                <pre>  def process_import(obj,data)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>44</td>
              <td class='code_line'>
                <pre>    @import_lambda.call(obj,data)</pre>
              </td>
              <td class='hit_number'>200</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>45</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>46</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>47</td>
              <td class='code_line'>
                <pre>  def process_export(obj)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>48</td>
              <td class='code_line'>
                <pre>    obj.nil? ? '' : @export_lambda.call(obj)</pre>
              </td>
              <td class='hit_number'>104</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>49</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>50</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>51</td>
              <td class='code_line'>
                <pre>  def custom?</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>52</td>
              <td class='code_line'>
                <pre>    return !@custom_id.nil?</pre>
              </td>
              <td class='hit_number'>272</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>53</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>54</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>55</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>56</td>
              <td class='code_line'>
                <pre>  def determine_data_type</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>57</td>
              <td class='code_line'>
                <pre>    if @custom_id.nil?</pre>
              </td>
              <td class='hit_number'>252</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>58</td>
              <td class='code_line'>
                <pre>      return Kernel.const_get(@model).columns_hash[@field_name.to_s].klass.to_s.downcase.to_sym</pre>
              </td>
              <td class='hit_number'>171</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>59</td>
              <td class='code_line'>
                <pre>    else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>60</td>
              <td class='code_line'>
                <pre>      return CustomDefinition.find(@custom_id).data_type.downcase.to_sym</pre>
              </td>
              <td class='hit_number'>81</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>61</td>
              <td class='code_line'>
                <pre>    end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>62</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>63</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>64</td>
              <td class='code_line'>
                <pre>  #should be after all class level methods are declared</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>65</td>
              <td class='code_line'>
                <pre>  MODEL_FIELDS = Hash.new</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>66</td>
              <td class='code_line'>
                <pre>  def self.add_fields(core_module,descriptor_array)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>67</td>
              <td class='code_line'>
                <pre>    module_type = core_module.class_name.to_sym</pre>
              </td>
              <td class='hit_number'>207</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>68</td>
              <td class='code_line'>
                <pre>    MODEL_FIELDS[module_type] = Hash.new if MODEL_FIELDS[module_type].nil?</pre>
              </td>
              <td class='hit_number'>207</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>69</td>
              <td class='code_line'>
                <pre>    descriptor_array.each do |m|</pre>
              </td>
              <td class='hit_number'>207</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>70</td>
              <td class='code_line'>
                <pre>      mf = ModelField.new(m[0],m[1],core_module,m[2],m[3],m[4].nil? ? {} : m[4])</pre>
              </td>
              <td class='hit_number'>468</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>71</td>
              <td class='code_line'>
                <pre>      MODEL_FIELDS[module_type][mf.uid.to_sym] = mf</pre>
              </td>
              <td class='hit_number'>468</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>72</td>
              <td class='code_line'>
                <pre>    end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>73</td>
              <td class='code_line'>
                <pre>  end </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>74</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>75</td>
              <td class='code_line'>
                <pre>  def self.make_division_arrays(rank_start,uid_prefix,label_prefix,table_name)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>76</td>
              <td class='code_line'>
                <pre>    r = [</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>77</td>
              <td class='code_line'>
                <pre>      [rank_start,"#{uid_prefix}_div_id".to_sym,:division_id,"#{label_prefix}Division ID"]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>78</td>
              <td class='code_line'>
                <pre>    ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>79</td>
              <td class='code_line'>
                <pre>    n = [rank_start+1,"#{uid_prefix}_div_name".to_sym, :name,"#{label_prefix}Division Name",{</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>80</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|obj,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>81</td>
              <td class='code_line'>
                <pre>        d = Division.where(:name => data).first</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>82</td>
              <td class='code_line'>
                <pre>        obj.division = d</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>83</td>
              <td class='code_line'>
                <pre>        unless d.nil?</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>84</td>
              <td class='code_line'>
                <pre>          return "Division set to #{d.name}"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>85</td>
              <td class='code_line'>
                <pre>        else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>86</td>
              <td class='code_line'>
                <pre>          return "Division not found with name \"#{data}\""</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>87</td>
              <td class='code_line'>
                <pre>        end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>88</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>89</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|obj| obj.division.nil? ? "" : obj.division.name},</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>90</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN divisions AS #{table_name}_div on #{table_name}_div.id = #{table_name}.division_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>91</td>
              <td class='code_line'>
                <pre>      :join_alias => "#{table_name}_div",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>92</td>
              <td class='code_line'>
                <pre>      :data_type => :string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>93</td>
              <td class='code_line'>
                <pre>    }]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>94</td>
              <td class='code_line'>
                <pre>    r << n</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>95</td>
              <td class='code_line'>
                <pre>    r</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>96</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>97</td>
              <td class='code_line'>
                <pre>  def self.make_carrier_arrays(rank_start,uid_prefix,label_prefix,table_name)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>98</td>
              <td class='code_line'>
                <pre>    r = [</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>99</td>
              <td class='code_line'>
                <pre>      [rank_start,"#{uid_prefix}_car_id".to_sym,:carrier_id,"#{label_prefix}Carrier ID"]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>100</td>
              <td class='code_line'>
                <pre>    ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>101</td>
              <td class='code_line'>
                <pre>    n = [rank_start+1,"#{uid_prefix}_car_name".to_sym, :name,"#{label_prefix}Carrier Name",{</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>102</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|obj,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>103</td>
              <td class='code_line'>
                <pre>        carrier = Company.where(:name => data).where(:carrier => true).first</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>104</td>
              <td class='code_line'>
                <pre>        obj.carrier = carrier</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>105</td>
              <td class='code_line'>
                <pre>        unless carrier.nil?</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>106</td>
              <td class='code_line'>
                <pre>          return "Carrier set to #{carrier.name}"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>107</td>
              <td class='code_line'>
                <pre>        else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>108</td>
              <td class='code_line'>
                <pre>          return "Carrier not found with name \"#{data}\""</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>109</td>
              <td class='code_line'>
                <pre>        end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>110</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>111</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|obj| obj.carrier.nil? ? "" : obj.carrier.name},</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>112</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN companies AS #{table_name}_car_comp on #{table_name}_car_comp.id = #{table_name}.carrier_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>113</td>
              <td class='code_line'>
                <pre>      :join_alias => "#{table_name}_car_comp",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>114</td>
              <td class='code_line'>
                <pre>      :data_type => :string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>115</td>
              <td class='code_line'>
                <pre>    }]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>116</td>
              <td class='code_line'>
                <pre>    r << n</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>117</td>
              <td class='code_line'>
                <pre>    r</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>118</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>119</td>
              <td class='code_line'>
                <pre>  def self.make_customer_arrays(rank_start,uid_prefix,label_prefix,table_name) </pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>120</td>
              <td class='code_line'>
                <pre>    r = [</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>121</td>
              <td class='code_line'>
                <pre>      [rank_start,"#{uid_prefix}_cust_id".to_sym,:customer_id,"#{label_prefix}Customer ID"]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>122</td>
              <td class='code_line'>
                <pre>    ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>123</td>
              <td class='code_line'>
                <pre>    n = [rank_start+1,"#{uid_prefix}_cust_name".to_sym, :name,"#{label_prefix}Customer Name", {</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>124</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|detail,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>125</td>
              <td class='code_line'>
                <pre>        c = Company.where(:name => data).where(:customer => true).first</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>126</td>
              <td class='code_line'>
                <pre>        detail.customer = c</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>127</td>
              <td class='code_line'>
                <pre>        unless c.nil?</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>128</td>
              <td class='code_line'>
                <pre>          return "Customer set to #{c.name}"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>129</td>
              <td class='code_line'>
                <pre>        else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>130</td>
              <td class='code_line'>
                <pre>          return "Customer not found with name \"#{data}\""</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>131</td>
              <td class='code_line'>
                <pre>        end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>132</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>133</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|detail| detail.customer.nil? ? "" : detail.customer.name},</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>134</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN companies AS #{table_name}_cust_comp on #{table_name}_cust_comp.id = #{table_name}.customer_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>135</td>
              <td class='code_line'>
                <pre>      :join_alias => "#{table_name}_cust_comp",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>136</td>
              <td class='code_line'>
                <pre>      :data_type=>:string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>137</td>
              <td class='code_line'>
                <pre>    }]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>138</td>
              <td class='code_line'>
                <pre>    r << n</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>139</td>
              <td class='code_line'>
                <pre>    r</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>140</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>141</td>
              <td class='code_line'>
                <pre>  def self.make_vendor_arrays(rank_start,uid_prefix,label_prefix,table_name) </pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>142</td>
              <td class='code_line'>
                <pre>    r = [</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>143</td>
              <td class='code_line'>
                <pre>      [rank_start,"#{uid_prefix}_ven_id".to_sym,:vendor_id,"#{label_prefix}Vendor ID"]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>144</td>
              <td class='code_line'>
                <pre>    ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>145</td>
              <td class='code_line'>
                <pre>    n = [rank_start+1,"#{uid_prefix}_ven_name".to_sym, :name,"#{label_prefix}Vendor Name", {</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>146</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|detail,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>147</td>
              <td class='code_line'>
                <pre>        vendor = Company.where(:name => data).where(:vendor => true).first</pre>
              </td>
              <td class='hit_number'>8</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>148</td>
              <td class='code_line'>
                <pre>        detail.vendor = vendor</pre>
              </td>
              <td class='hit_number'>8</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>149</td>
              <td class='code_line'>
                <pre>        unless vendor.nil?</pre>
              </td>
              <td class='hit_number'>8</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>150</td>
              <td class='code_line'>
                <pre>          return "Vendor set to #{vendor.name}"</pre>
              </td>
              <td class='hit_number'>8</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>151</td>
              <td class='code_line'>
                <pre>        else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>152</td>
              <td class='code_line'>
                <pre>          return "Vendor not found with name \"#{data}\""</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>153</td>
              <td class='code_line'>
                <pre>        end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>154</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>155</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|detail| detail.vendor.nil? ? "" : detail.vendor.name},</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>156</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN companies AS #{table_name}_vend_comp on #{table_name}_vend_comp.id = #{table_name}.vendor_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>157</td>
              <td class='code_line'>
                <pre>      :join_alias => "#{table_name}_vend_comp",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>158</td>
              <td class='code_line'>
                <pre>      :data_type=>:string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>159</td>
              <td class='code_line'>
                <pre>    }]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>160</td>
              <td class='code_line'>
                <pre>    r << n</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>161</td>
              <td class='code_line'>
                <pre>    r</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>162</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>163</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>164</td>
              <td class='code_line'>
                <pre>  #Don't use this.  Use make_ship_from_arrays or make_ship_to_arrays</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>165</td>
              <td class='code_line'>
                <pre>  def self.make_ship_arrays(rank_start,uid_prefix,label_prefix,table_name,ft)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>166</td>
              <td class='code_line'>
                <pre>    raise "Invalid shipping from/to indicator provided: #{ft}" unless ["from","to"].include?(ft)</pre>
              </td>
              <td class='hit_number'>54</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>167</td>
              <td class='code_line'>
                <pre>    ftc = ft.titleize</pre>
              </td>
              <td class='hit_number'>54</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>168</td>
              <td class='code_line'>
                <pre>    r = [</pre>
              </td>
              <td class='hit_number'>54</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>169</td>
              <td class='code_line'>
                <pre>      [rank_start,"#{uid_prefix}_ship_#{ft}_id".to_sym,"ship_#{ft}_id".to_sym,"#{label_prefix}Ship #{ftc} ID"]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>170</td>
              <td class='code_line'>
                <pre>    ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>171</td>
              <td class='code_line'>
                <pre>    n = [rank_start+1,"#{uid_prefix}_ship_#{ft}_name".to_sym,:name,"#{label_prefix}Ship #{ftc} Name", {</pre>
              </td>
              <td class='hit_number'>54</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>172</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|obj,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>173</td>
              <td class='code_line'>
                <pre>        a = Address.where(:name=>data).where(:shipping => true).first</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>174</td>
              <td class='code_line'>
                <pre>        if ft=="to"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>175</td>
              <td class='code_line'>
                <pre>          obj.ship_to = a</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>176</td>
              <td class='code_line'>
                <pre>        elsif ft=="from"</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>177</td>
              <td class='code_line'>
                <pre>          obj.ship_from = a</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>178</td>
              <td class='code_line'>
                <pre>        end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>179</td>
              <td class='code_line'>
                <pre>        unless a.nil?</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>180</td>
              <td class='code_line'>
                <pre>          return "Ship #{ftc} set to #{a.name}"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>181</td>
              <td class='code_line'>
                <pre>        else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>182</td>
              <td class='code_line'>
                <pre>          return "Ship #{ftc} not found with name \"#{data}\""</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>183</td>
              <td class='code_line'>
                <pre>        end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>184</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>185</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|obj| </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>186</td>
              <td class='code_line'>
                <pre>        if ft=="to"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>187</td>
              <td class='code_line'>
                <pre>          return obj.ship_to.nil? ? "" : obj.ship_to.name</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>188</td>
              <td class='code_line'>
                <pre>        elsif ft=="from"</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>189</td>
              <td class='code_line'>
                <pre>          return obj.ship_from.nil? ? "" : obj.ship_from.name</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>190</td>
              <td class='code_line'>
                <pre>        end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>191</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>192</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN addresses AS #{table_name}_ship_#{ft} on #{table_name}_ship_#{ft}.id = #{table_name}.ship_#{ft}_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>193</td>
              <td class='code_line'>
                <pre>      :join_alias => "#{table_name}_ship_#{ft}",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>194</td>
              <td class='code_line'>
                <pre>      :data_type=>:string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>195</td>
              <td class='code_line'>
                <pre>    }]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>196</td>
              <td class='code_line'>
                <pre>    r << n</pre>
              </td>
              <td class='hit_number'>54</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>197</td>
              <td class='code_line'>
                <pre>    r</pre>
              </td>
              <td class='hit_number'>54</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>198</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>199</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>200</td>
              <td class='code_line'>
                <pre>  def self.make_ship_to_arrays(rank_start,uid_prefix,label_prefix,table_name)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>201</td>
              <td class='code_line'>
                <pre>    make_ship_arrays(rank_start,uid_prefix,label_prefix,table_name,"to")</pre>
              </td>
              <td class='hit_number'>36</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>202</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>203</td>
              <td class='code_line'>
                <pre>  def self.make_ship_from_arrays(rank_start,uid_prefix,label_prefix,table_name)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>204</td>
              <td class='code_line'>
                <pre>    make_ship_arrays(rank_start,uid_prefix,label_prefix,table_name,"from")</pre>
              </td>
              <td class='hit_number'>18</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>205</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>206</td>
              <td class='code_line'>
                <pre>  def self.make_country_arrays(rank_start,uid_prefix,label_prefix,table_name)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>207</td>
              <td class='code_line'>
                <pre>    r = []</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>208</td>
              <td class='code_line'>
                <pre>    r << [rank_start,"#{uid_prefix}_cntry_name".to_sym, :name,"#{label_prefix}Country Name", {</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>209</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|detail,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>210</td>
              <td class='code_line'>
                <pre>        c = Country.where(:name => data).first</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>211</td>
              <td class='code_line'>
                <pre>        detail.country = c</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>212</td>
              <td class='code_line'>
                <pre>        unless c.nil?</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>213</td>
              <td class='code_line'>
                <pre>          return "Country set to #{c.name}"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>214</td>
              <td class='code_line'>
                <pre>        else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>215</td>
              <td class='code_line'>
                <pre>          return "Country not found with name \"#{data}\""</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>216</td>
              <td class='code_line'>
                <pre>        end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>217</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>218</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|detail| detail.country.nil? ? "" : detail.country.name},</pre>
              </td>
              <td class='hit_number'>24</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>219</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN countries AS #{table_name}_country on #{table_name}_country.id = #{table_name}.country_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>220</td>
              <td class='code_line'>
                <pre>      :join_alias => "#{table_name}_country",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>221</td>
              <td class='code_line'>
                <pre>      :data_type=>:string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>222</td>
              <td class='code_line'>
                <pre>    }]</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>223</td>
              <td class='code_line'>
                <pre>    r << [rank_start+1,"#{uid_prefix}_cntry_iso".to_sym, :iso_code, "#{label_prefix}Country ISO Code",{</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>224</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|detail,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>225</td>
              <td class='code_line'>
                <pre>        c = Country.where(:iso_code => data).first</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>226</td>
              <td class='code_line'>
                <pre>        detail.country = c</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>227</td>
              <td class='code_line'>
                <pre>        unless c.nil?</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>228</td>
              <td class='code_line'>
                <pre>          return "Country set to #{c.name}"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>229</td>
              <td class='code_line'>
                <pre>        else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>230</td>
              <td class='code_line'>
                <pre>          return "Country not found with ISO Code \"#{data}\""</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>231</td>
              <td class='code_line'>
                <pre>        end    </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>232</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>233</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|detail| detail.country.nil? ? "" : detail.country.iso_code},</pre>
              </td>
              <td class='hit_number'>16</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>234</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN countries AS #{table_name}_country on #{table_name}_country.id = #{table_name}.country_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>235</td>
              <td class='code_line'>
                <pre>      :join_alias => "#{table_name}_country",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>236</td>
              <td class='code_line'>
                <pre>      :data_type=>:string  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>237</td>
              <td class='code_line'>
                <pre>    }]</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>238</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>239</td>
              <td class='code_line'>
                <pre>    r</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>240</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>241</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>242</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>243</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::PRODUCT, [</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>244</td>
              <td class='code_line'>
                <pre>    [1,:prod_uid,:unique_identifier,"Unique Identifier",{:data_type=>:string}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>245</td>
              <td class='code_line'>
                <pre>    #2 is available to use</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>246</td>
              <td class='code_line'>
                <pre>    [3,:prod_name,:name,"Name",{:data_type=>:string}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>247</td>
              <td class='code_line'>
                <pre>    [4,:prod_uom,:unit_of_measure,"Unit of Measure",{:data_type=>:string}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>248</td>
              <td class='code_line'>
                <pre>    #5 and 6 are now created with the make_vendor_arrays method below, Don't use them.</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>249</td>
              <td class='code_line'>
                <pre>    [7,:prod_status_name, :name, "Status", {</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>250</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|detail,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>251</td>
              <td class='code_line'>
                <pre>        status = StatusRule.where(:name => data).where(:module_type => CoreModule::PRODUCT.class_name)</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>252</td>
              <td class='code_line'>
                <pre>        detail.status_rule = status</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>253</td>
              <td class='code_line'>
                <pre>        unless status.nil?</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>254</td>
              <td class='code_line'>
                <pre>          return "Status set to #{status.name}"</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>255</td>
              <td class='code_line'>
                <pre>        else</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>256</td>
              <td class='code_line'>
                <pre>          return "Status not found with name \"#{data}\""</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>257</td>
              <td class='code_line'>
                <pre>        end </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>258</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>259</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|detail| detail.status_rule.nil? ? "" : detail.status_rule.name },</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>260</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN status_rules AS prod_status_name ON  prod_status_name.id = products.status_rule_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>261</td>
              <td class='code_line'>
                <pre>      :join_alias => "prod_status_name",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>262</td>
              <td class='code_line'>
                <pre>      :data_type=>:string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>263</td>
              <td class='code_line'>
                <pre>    }],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>264</td>
              <td class='code_line'>
                <pre>    #9 is available to use</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>265</td>
              <td class='code_line'>
                <pre>    [10,:prod_class_count, :class_count, "Complete Classification Count", {</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>266</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|obj,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>267</td>
              <td class='code_line'>
                <pre>        return "Complete Classification Count was ignored. (read only)"},</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>268</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|obj| </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>269</td>
              <td class='code_line'>
                <pre>        r = 0</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>270</td>
              <td class='code_line'>
                <pre>        obj.classifications.each {|c| </pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>271</td>
              <td class='code_line'>
                <pre>          r += 1 if c.tariff_records.length > 0</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>272</td>
              <td class='code_line'>
                <pre>        }</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>273</td>
              <td class='code_line'>
                <pre>        r</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>274</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>275</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN (SELECT COUNT(id) as class_count, product_id FROM classifications WHERE classifications.id IN (select classification_id from tariff_records) group by product_id) as prod_class_count ON prod_class_count.product_id = products.id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>276</td>
              <td class='code_line'>
                <pre>      :join_alias => "prod_class_count",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>277</td>
              <td class='code_line'>
                <pre>      :data_type => :integer</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>278</td>
              <td class='code_line'>
                <pre>    }]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>279</td>
              <td class='code_line'>
                <pre>  ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>280</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::PRODUCT, make_vendor_arrays(5,"prod","","products")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>281</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::PRODUCT, make_division_arrays(100,"prod","","products")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>282</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>283</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::CLASSIFICATION, make_country_arrays(100,"class","Classification - ","classifications")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>284</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>285</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::TARIFF, [</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>286</td>
              <td class='code_line'>
                <pre>    [1,:hts_hts_1,:hts_1,"Tariff - HTS 1"],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>287</td>
              <td class='code_line'>
                <pre>    [2,:hts_hts_2,:hts_2,"Tariff - HTS 2"],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>288</td>
              <td class='code_line'>
                <pre>    [3,:hts_hts_3,:hts_3,"Tariff - HTS 3"]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>289</td>
              <td class='code_line'>
                <pre>  ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>290</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>291</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::ORDER, [</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>292</td>
              <td class='code_line'>
                <pre>    [1,:ord_ord_num,:order_number,"Header - Order Number"],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>293</td>
              <td class='code_line'>
                <pre>    [2,:ord_ord_date,:order_date,"Header - Order Date",{:data_type=>:date}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>294</td>
              <td class='code_line'>
                <pre>  ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>295</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::ORDER, make_vendor_arrays(100,"ord","Header - ","orders")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>296</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::ORDER, make_ship_to_arrays(200,"ord","Header - ","orders")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>297</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>298</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::ORDER_LINE, [</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>299</td>
              <td class='code_line'>
                <pre>    [1,:ordln_line_number,:line_number,"Line - Line Number",{:data_type=>:integer}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>300</td>
              <td class='code_line'>
                <pre>    [2,:ordln_puid,:unique_identifier,"Line - Product Unique Identifier",{</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>301</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|detail,data|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>302</td>
              <td class='code_line'>
                <pre>        detail.product = Product.where(:unique_identifier => data).first</pre>
              </td>
              <td class='hit_number'>24</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>303</td>
              <td class='code_line'>
                <pre>        return "Line #{detail.line_number} - Product set to #{data}"</pre>
              </td>
              <td class='hit_number'>24</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>304</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>305</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|detail|</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>306</td>
              <td class='code_line'>
                <pre>        detail.product.unique_identifier</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>307</td>
              <td class='code_line'>
                <pre>      },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>308</td>
              <td class='code_line'>
                <pre>      :join_statement => "LEFT OUTER JOIN products AS ordln_puid ON ordln_puid.id = order_lines.product_id",</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>309</td>
              <td class='code_line'>
                <pre>      :join_alias => "ordln_puid",:data_type=>:string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>310</td>
              <td class='code_line'>
                <pre>    }],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>311</td>
              <td class='code_line'>
                <pre>    [3,:ordln_ordered_qty,:ordered_qty,"Line - Order Quantity",{:data_type=>:decimal}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>312</td>
              <td class='code_line'>
                <pre>    [4,:ordln_ppu,:price_per_unit,"Line - Price / Unit",{:data_type=>:decimal}]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>313</td>
              <td class='code_line'>
                <pre>  ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>314</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>315</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SHIPMENT, [</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>316</td>
              <td class='code_line'>
                <pre>    [1,:shp_ref,:reference,"Reference Number",{:data_type=>:string}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>317</td>
              <td class='code_line'>
                <pre>    [2,:shp_mode,:mode,"Mode",{:data_type=>:string}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>318</td>
              <td class='code_line'>
                <pre>  ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>319</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SHIPMENT, make_vendor_arrays(100,"shp","","shipments")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>320</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SHIPMENT, make_ship_to_arrays(200,"shp","","shipments")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>321</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SHIPMENT, make_ship_from_arrays(250,"shp","","shipments")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>322</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SHIPMENT, make_carrier_arrays(300,"shp","","shipments")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>323</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>324</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SALE, [</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>325</td>
              <td class='code_line'>
                <pre>    [1,:sale_order_number,:order_number,"Header - Order Number",{:data_type=>:string}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>326</td>
              <td class='code_line'>
                <pre>    [2,:sale_order_date,:order_date,"Header - Order Date",{:data_type=>:date}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>327</td>
              <td class='code_line'>
                <pre>  ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>328</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SALE, make_customer_arrays(100,"sale","Header - ","sales_orders")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>329</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SALE, make_ship_to_arrays(200,"sale","Header - ","sales_orders")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>330</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::SALE, make_division_arrays(300,"sale","Heade - ","sales_orders")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>331</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>332</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::DELIVERY, [</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>333</td>
              <td class='code_line'>
                <pre>    [1,:del_ref,:reference,"Reference",{:data_type=>:string}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>334</td>
              <td class='code_line'>
                <pre>    [2,:del_mode,:mode,"Mode",{:data_type=>:string}],</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>335</td>
              <td class='code_line'>
                <pre>  ]</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>336</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::DELIVERY, make_ship_from_arrays(100,"del","","deliveries")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>337</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::DELIVERY, make_ship_to_arrays(200,"del","","deliveries")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>338</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::DELIVERY, make_carrier_arrays(300,"del","","deliveries")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>339</td>
              <td class='code_line'>
                <pre>  add_fields CoreModule::DELIVERY, make_customer_arrays(400,"del","","deliveries")</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>340</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>341</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>342</td>
              <td class='code_line'>
                <pre>  def self.add_custom_fields(core_module,base_class,label_prefix,parameters={})</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>343</td>
              <td class='code_line'>
                <pre>    max = 0</pre>
              </td>
              <td class='hit_number'>343</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>344</td>
              <td class='code_line'>
                <pre>    m_type = core_module.class_name.intern</pre>
              </td>
              <td class='hit_number'>343</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>345</td>
              <td class='code_line'>
                <pre>    model_hash = MODEL_FIELDS[m_type]</pre>
              </td>
              <td class='hit_number'>343</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>346</td>
              <td class='code_line'>
                <pre>    model_hash.values.each {|mf| max = mf.sort_rank + 1 if mf.sort_rank > max}</pre>
              </td>
              <td class='hit_number'>2744</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>347</td>
              <td class='code_line'>
                <pre>    base_class.new.custom_definitions.each_with_index do |d,index|</pre>
              </td>
              <td class='hit_number'>343</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>348</td>
              <td class='code_line'>
                <pre>      class_symbol = base_class.to_s.downcase</pre>
              </td>
              <td class='hit_number'>81</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>349</td>
              <td class='code_line'>
                <pre>      fld = "*cf_#{d.id}".intern</pre>
              </td>
              <td class='hit_number'>81</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>350</td>
              <td class='code_line'>
                <pre>      mf = ModelField.new(max+index,fld,core_module,fld,"#{label_prefix}#{d.label}",parameters.merge({:custom_id=>d.id}))</pre>
              </td>
              <td class='hit_number'>81</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>351</td>
              <td class='code_line'>
                <pre>      model_hash[mf.uid.to_sym] = mf</pre>
              </td>
              <td class='hit_number'>81</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>352</td>
              <td class='code_line'>
                <pre>    end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>353</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>354</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>355</td>
              <td class='code_line'>
                <pre>  def self.reset_custom_fields</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>356</td>
              <td class='code_line'>
                <pre>    CoreModule::CORE_MODULES.each do |cm|</pre>
              </td>
              <td class='hit_number'>49</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>357</td>
              <td class='code_line'>
                <pre>      h = MODEL_FIELDS[cm.class_name.to_sym]</pre>
              </td>
              <td class='hit_number'>294</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>358</td>
              <td class='code_line'>
                <pre>      h.each do |k,v|</pre>
              </td>
              <td class='hit_number'>294</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>359</td>
              <td class='code_line'>
                <pre>        h.delete k unless v.custom_id.nil?</pre>
              </td>
              <td class='hit_number'>2367</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>360</td>
              <td class='code_line'>
                <pre>      end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>361</td>
              <td class='code_line'>
                <pre>    end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>362</td>
              <td class='code_line'>
                <pre>    ModelField.add_custom_fields(CoreModule::ORDER,Order,"Header - ")</pre>
              </td>
              <td class='hit_number'>49</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>363</td>
              <td class='code_line'>
                <pre>    ModelField.add_custom_fields(CoreModule::ORDER_LINE,OrderLine,"Line - ")</pre>
              </td>
              <td class='hit_number'>49</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>364</td>
              <td class='code_line'>
                <pre>    ModelField.add_custom_fields(CoreModule::PRODUCT,Product,"")</pre>
              </td>
              <td class='hit_number'>49</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>365</td>
              <td class='code_line'>
                <pre>    ModelField.add_custom_fields(CoreModule::CLASSIFICATION,Classification,"Classificaiton - ")</pre>
              </td>
              <td class='hit_number'>49</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>366</td>
              <td class='code_line'>
                <pre>    ModelField.add_custom_fields(CoreModule::SHIPMENT,Shipment,"")</pre>
              </td>
              <td class='hit_number'>49</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>367</td>
              <td class='code_line'>
                <pre>    ModelField.add_custom_fields(CoreModule::SALE,SalesOrder,"Header - ")</pre>
              </td>
              <td class='hit_number'>49</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>368</td>
              <td class='code_line'>
                <pre>    ModelField.add_custom_fields(CoreModule::DELIVERY,Delivery,"")</pre>
              </td>
              <td class='hit_number'>49</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>369</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>370</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>371</td>
              <td class='code_line'>
                <pre>  reset_custom_fields</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>372</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>373</td>
              <td class='code_line'>
                <pre>  def self.find_by_uid(uid)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>374</td>
              <td class='code_line'>
                <pre>    return ModelField.new(10000,:_blank,nil,nil,"[blank]",{</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>375</td>
              <td class='code_line'>
                <pre>      :import_lambda => lambda {|o,d| "Field ignored"},</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>376</td>
              <td class='code_line'>
                <pre>      :export_lambda => lambda {|o| },</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>377</td>
              <td class='code_line'>
                <pre>      :data_type => :string</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>378</td>
              <td class='code_line'>
                <pre>    }) if uid.to_sym == :_blank</pre>
              </td>
              <td class='hit_number'>1496</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>379</td>
              <td class='code_line'>
                <pre>    MODEL_FIELDS.values.each do |h|</pre>
              </td>
              <td class='hit_number'>1488</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>380</td>
              <td class='code_line'>
                <pre>      u = uid.to_sym</pre>
              </td>
              <td class='hit_number'>4536</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>381</td>
              <td class='code_line'>
                <pre>      return h[u] unless h[u].nil?</pre>
              </td>
              <td class='hit_number'>4536</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>382</td>
              <td class='code_line'>
                <pre>    end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>383</td>
              <td class='code_line'>
                <pre>    return nil</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>384</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>385</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>386</td>
              <td class='code_line'>
                <pre>  def self.find_by_module_type(type_symbol)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>387</td>
              <td class='code_line'>
                <pre>    h = MODEL_FIELDS[type_symbol]</pre>
              </td>
              <td class='hit_number'>40</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>388</td>
              <td class='code_line'>
                <pre>    h.nil? ? [] : h.values.to_a</pre>
              </td>
              <td class='hit_number'>40</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>389</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>390</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>391</td>
              <td class='code_line'>
                <pre>  def self.find_by_module_type_and_uid(type_symbol,uid_symbol)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>392</td>
              <td class='code_line'>
                <pre>    find_by_module_type(type_symbol).each { |mf|</pre>
              </td>
              <td class='hit_number'>24</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>393</td>
              <td class='code_line'>
                <pre>      return mf if mf.uid == uid_symbol</pre>
              </td>
              <td class='hit_number'>56</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>394</td>
              <td class='code_line'>
                <pre>    }</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>395</td>
              <td class='code_line'>
                <pre>    return nil</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>396</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>397</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>398</td>
              <td class='code_line'>
                <pre>  def self.find_by_module_type_and_custom_id(type_symbol,id)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>399</td>
              <td class='code_line'>
                <pre>    find_by_module_type(type_symbol).each {|mf| </pre>
              </td>
              <td class='hit_number'>8</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>400</td>
              <td class='code_line'>
                <pre>      return mf if mf.custom_id==id</pre>
              </td>
              <td class='hit_number'>80</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>401</td>
              <td class='code_line'>
                <pre>      }</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>402</td>
              <td class='code_line'>
                <pre>    return nil</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>403</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>404</td>
              <td class='code_line'>
                <pre>  </pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>405</td>
              <td class='code_line'>
                <pre>  def self.sort_by_label(mf_array)</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="miss" data-hits='#{cov}'"">
              <td class='line_number'>406</td>
              <td class='code_line'>
                <pre>    return mf_array.sort { |a,b| a.label <=> b.label }</pre>
              </td>
              <td class='hit_number'>0</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>407</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>408</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>409</td>
              <td class='code_line'>
                <pre>end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
        </table>
      </div>
      
    </div>
    
    <p>Generated on: 2011-03-24 23:50:38 -0600</p>
  </body>
</html>